---
layout: post
title: "Python 风格规范"
subtitle: ''
author: "叉叉敌"
header-style: text
tags:
  - python
---

![](https://gitee.com/chasays/mdPic/raw/master/uPic/5GctlM.jpg)

## 缩进
用4个空格来缩进代码。

绝对不要用tab, 也不要tab和空格混用. 对于行连接的情况, 你应该要么垂直对齐换行的元素, 或者使用4空格的悬挂式缩进(这时第一行不应该有参数):

## 注释

确保对模块, 函数, 方法和行内注释使用正确的风格

---

## 标点符号,拼写和语法

注意标点符号,拼写和语法

注释应有适当的大写和标点,句子应该尽量完整.对于诸如在行尾上的较短注释,可以不那么正式,但是也应该尽量保持风格抑制.

## 类

如果一个类不继承自其它类, 就显式的从object继承. 嵌套类也一样.(除非是为了和 python2 兼容)

## 字符串


即使参数都是字符串, 使用%操作符或者格式化方法格式化字符串. 不过也不能一概而论, 你需要在+和%之间好好判定.

## TODO注释
为临时代码使用TODO注释, 它是一种短期解决方案. 不算完美, 但够好了.

---

## 导入格式


每个导入应该独占一行, typing 的导入除外

## 语句

通常每个语句应该独占一行

## 访问控制

在Python中, 对于琐碎又不太重要的访问函数, 你应该直接使用公有变量来取代它们, 这样可以避免额外的函数调用开销. 当添加更多功能时, 你可以用属性(property)来保持语法的一致性.

(译者注: 重视封装的面向对象程序员看到这个可能会很反感, 因为他们一直被教育: 所有成员变量都必须是私有的! 其实, 那真的是有点麻烦啊. 试着去接受Pythonic哲学吧)

另一方面, 如果访问更复杂, 或者变量的访问开销很显著, 那么你应该使用像 get_foo() 和 set_foo() 这样的函数调用. 如果之前的代码行为允许通过属性(property)访问 , 那么就不要将新的访问函数与属性绑定. 这样, 任何试图通过老方法访问变量的代码就没法运行, 使用者也就会意识到复杂性发生了变化.

## 命名


模块名写法: module_name ;包名写法: package_name ;类名: ClassName ;方法名: method_name ;异常名: ExceptionName ;函数名: function_name ;全局常量名: GLOBAL_CONSTANT_NAME ;全局变量名: global_var_name ;实例名: instance_var_name ;函数参数名: function_parameter_name ;局部变量名: local_var_name . 函数名,变量名和文件名应该是描述性的,尽量避免缩写,特别要避免使用非项目人员不清楚难以理解的缩写,不要通过删除单词中的字母来进行缩写. 始终使用 .py 作为文件后缀名,不要用破折号.

## 序列元素尾部逗号

仅当 ], ), } 和末位元素不在同一行时，推荐使用序列元素尾部逗号. 当末位元素尾部有逗号时，元素后的逗号可以指示 YAPF 将序列格式化为每行一项.


---

## Main

即使是一个打算被用作脚本的文件, 也应该是可导入的. 并且简单的导入不应该导致这个脚本的主功能(main functionality)被执行, 这是一种副作用. 主功能应该放在一个main()函数中.


## 函数长度


推荐函数功能尽量集中,简单,小巧

## 空行

顶级定义之间空两行, 方法定义之间空一行


顶级定义之间空两行, 比如函数或者类定义. 方法定义, 类定义与第一个方法之间, 都应该空一行. 函数或方法中, 某些地方要是你觉得合适, 就空一行.


## 空格
按照标准的排版规范来使用标点两边的空格

- 括号内不要有空格.


- 不要在逗号, 分号, 冒号前面加空格, 但应该在它们后面加(除了在行尾).

```py
Yes: if x == 4:
         print(x, y)
     x, y = y, x
```
- 参数列表, 索引或切片的左括号前不应加空格.

- 在二元操作符两边都加上一个空格, 比如赋值(=), 比较(==, <, >, !=, <>, <=, >=, in, not in, is, is not), 布尔(and, or, not). 至于算术操作符两边的空格该如何使用, 需要你自己好好判断. 不过两侧务必要保持一致.

- 当 = 用于指示关键字参数或默认参数值时, 不要在其两侧使用空格. 但若存在类型注释的时候,需要在 = 周围使用空格.

- 不要用空格来垂直对齐多行间的标记, 因为这会成为维护的负担(适用于:, #, =等):


---

## 分号

不要在行尾加分号, 也不要用分号将两条命令放在同一行.



## 行长度

每行不超过80个字符。

##  括号
宁缺毋滥的使用括号。

除非是用于实现行连接, 否则不要在返回语句或条件语句中使用括号. 不过在元组两边使用括号是可以的.





https://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/python_style_rules/